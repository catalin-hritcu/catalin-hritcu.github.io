<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="common/css/sf.css" rel="stylesheet" type="text/css"/>
<title>Logic: Logic in Coq</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/lf.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="common/slides.js"></script>
<link href="common/css/slides.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 1: Logical Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">Logic<span class="subtitle">Logic in Coq</span></h1>



<div class="doc">
We have seen...

<div class="paragraph"> </div>

<ul class="doclist">
<li> <i>propositions</i>: factual claims
<ul class="doclist">
<li> equality propositions (<span class="inlinecode"><span class="id" title="variable">e<sub>1</sub></span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">e<sub>2</sub></span></span>)

</li>
<li> implications (<span class="inlinecode"><span class="id" title="variable">P</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">Q</span></span>)

</li>
<li> quantified propositions (<span class="inlinecode"><span style='font-size:120%;'>&forall;</span></span> <span class="inlinecode"><span class="id" title="variable">x</span>,</span> <span class="inlinecode"><span class="id" title="variable">P</span></span>)

<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> <i>proofs</i>: ways of presenting evidence for the truth of a
          proposition

</li>
</ul>

<div class="paragraph"> </div>

    In this chapter we will introduce several more flavors of both 
    propositions and proofs. 
<div class="paragraph"> </div>

<a name="lab172"></a><h3 class="section"> </h3>

<div class="paragraph"> </div>

 Like everything in Coq, propositions are <i>typed</i>: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Check</span> 3 = 3.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Check</span> <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> + <span class="id" title="variable">m</span> = <span class="id" title="variable">m</span> + <span class="id" title="variable">n</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab173"></a><h3 class="section"> </h3>
 Note that <i>all</i> syntactically well-formed propositions have type
    <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> in Coq, regardless of whether they are true. 
<div class="paragraph"> </div>

 Simply <i>being</i> a proposition is one thing; being <i>provable</i> is
    something else! 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Check</span> 2 = 2.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Check</span> <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> = 2.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Check</span> 3 = 4.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab174"></a><h3 class="section"> </h3>
 So far, we've seen one primary place that propositions can appear:
    in <span class="inlinecode"><span class="id" title="keyword">Theorem</span></span> (and <span class="inlinecode"><span class="id" title="keyword">Lemma</span></span> and <span class="inlinecode"><span class="id" title="keyword">Example</span></span>) declarations. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">plus_2_2_is_4</span> :<br/>
&nbsp;&nbsp;2 + 2 = 4.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab175"></a><h3 class="section"> </h3>
 Propositions are first-class entities in Coq.  For example,
    we can name them: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Definition</span> <span class="id" title="variable">plus_claim</span> : <span class="id" title="keyword">Prop</span> := 2 + 2 = 4.<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="variable">plus_claim</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;plus_claim&nbsp;:&nbsp;Prop&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">plus_claim_is_true</span> :<br/>
&nbsp;&nbsp;<span class="id" title="variable">plus_claim</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab176"></a><h3 class="section"> </h3>
 We can also write <i>parameterized</i> propositions &mdash; that is,
    functions that take arguments of some type and return a
    proposition. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Definition</span> <span class="id" title="variable">is_three</span> (<span class="id" title="variable">n</span> : <span class="id" title="variable">nat</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="variable">n</span> = 3.<br/>
<span class="id" title="keyword">Check</span> <span class="id" title="variable">is_three</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;nat&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;Prop&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab177"></a><h3 class="section"> </h3>
 In Coq, functions that return propositions are said to define
    <i>properties</i> of their arguments.

<div class="paragraph"> </div>

    For instance, here's a (polymorphic) property defining the
    familiar notion of an <i>injective function</i>. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Definition</span> <span class="id" title="variable">injective</span> {<span class="id" title="variable">A</span> <span class="id" title="variable">B</span>} (<span class="id" title="variable">f</span> : <span class="id" title="variable">A</span> → <span class="id" title="variable">B</span>) :=<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">x</span> <span class="id" title="variable">y</span> : <span class="id" title="variable">A</span>, <span class="id" title="variable">f</span> <span class="id" title="variable">x</span> = <span class="id" title="variable">f</span> <span class="id" title="variable">y</span> → <span class="id" title="variable">x</span> = <span class="id" title="variable">y</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">succ_inj</span> : <span class="id" title="variable">injective</span> <span class="id" title="variable">S</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span> <span class="id" title="variable">m</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">injection</span> <span class="id" title="variable">H</span> <span class="id" title="keyword">as</span> <span class="id" title="variable">H<sub>1</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>1</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab178"></a><h3 class="section"> </h3>
 The equality operator <span class="inlinecode">=</span> is also a function that returns a
    <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>.

<div class="paragraph"> </div>

    The expression <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> is syntactic sugar for <span class="inlinecode"><span class="id" title="variable">eq</span></span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode"><span class="id" title="variable">m</span></span> (defined
    using Coq's <span class="inlinecode"><span class="id" title="keyword">Notation</span></span> mechanism). Because <span class="inlinecode"><span class="id" title="variable">eq</span></span> can be used with
    elements of any type, it is also polymorphic: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Check</span> @<span class="id" title="variable">eq</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;forall&nbsp;A&nbsp;:&nbsp;Type,&nbsp;A&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;A&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;Prop&nbsp;*)</span><br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
What is the type of the following expression?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">pred</span>&nbsp;(<span class="id" title="variable">S</span>&nbsp;<span class="id" title="variable">O</span>)&nbsp;=&nbsp;<span class="id" title="variable">O</span>
<div class="paragraph"> </div>

</div>
   (1) <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (2) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (3) <span class="inlinecode"><span style='font-size:120%;'>&forall;</span></span> <span class="inlinecode"><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>,</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (4) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="variable">nat</span></span>

<div class="paragraph"> </div>

   (5) Not typeable

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')"><span class="show"></span></div>
<div class="proofscript" id="proof1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')">
<span class="id" title="keyword">Check</span> (<span class="id" title="variable">pred</span> (<span class="id" title="variable">S</span> <span class="id" title="variable">O</span>) = <span class="id" title="variable">O</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
What is the type of the following expression?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>,&nbsp;<span class="id" title="variable">pred</span>&nbsp;(<span class="id" title="variable">S</span>&nbsp;<span class="id" title="variable">n</span>)&nbsp;=&nbsp;<span class="id" title="variable">n</span>
<div class="paragraph"> </div>

</div>
   (1) <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (2) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (3) <span class="inlinecode"><span style='font-size:120%;'>&forall;</span></span> <span class="inlinecode"><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>,</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (4) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="variable">nat</span></span>

<div class="paragraph"> </div>

   (5) Not typeable

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')"><span class="show"></span></div>
<div class="proofscript" id="proof2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')">
<span class="id" title="keyword">Check</span> (<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>, <span class="id" title="variable">pred</span> (<span class="id" title="variable">S</span> <span class="id" title="variable">n</span>) = <span class="id" title="variable">n</span>).<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
What is the type of the following expression?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>,&nbsp;<span class="id" title="variable">S</span>&nbsp;(<span class="id" title="variable">pred</span>&nbsp;<span class="id" title="variable">n</span>)&nbsp;=&nbsp;<span class="id" title="variable">n</span>
<div class="paragraph"> </div>

</div>
   (1) <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (2) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (3) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="variable">nat</span></span>

<div class="paragraph"> </div>

   (4) Not typeable

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')"><span class="show"></span></div>
<div class="proofscript" id="proof3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')">
<span class="id" title="keyword">Check</span> (<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>, <span class="id" title="variable">S</span> (<span class="id" title="variable">pred</span> <span class="id" title="variable">n</span>) = <span class="id" title="variable">n</span>).<br/>
&nbsp;<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;*)</span><br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
What is the type of the following expression?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>,&nbsp;<span class="id" title="variable">S</span>&nbsp;(<span class="id" title="variable">pred</span>&nbsp;<span class="id" title="variable">n</span>)
<div class="paragraph"> </div>

</div>
   (1) <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (2) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (3) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="variable">nat</span></span>

<div class="paragraph"> </div>

   (4) Not typeable

</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')"><span class="show"></span></div>
<div class="proofscript" id="proof4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')">
<span class="comment">(*&nbsp;Check&nbsp;(forall&nbsp;n:nat,&nbsp;pred&nbsp;(S&nbsp;n)).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Error:&nbsp;In&nbsp;environment<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;:&nbsp;nat<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;term&nbsp;"pred&nbsp;(S&nbsp;n)"&nbsp;has&nbsp;type&nbsp;"nat"&nbsp;which&nbsp;should&nbsp;be&nbsp;Set,&nbsp;Prop&nbsp;or&nbsp;Type.&nbsp;*)</span><br/>
</div>
</div >

<br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
What is the type of the following expression?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span>&nbsp;<span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>&nbsp;⇒&nbsp;<span class="id" title="variable">S</span>&nbsp;(<span class="id" title="variable">pred</span>&nbsp;<span class="id" title="variable">n</span>)
<div class="paragraph"> </div>

</div>
   (1) <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (2) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (3) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="variable">nat</span></span>

<div class="paragraph"> </div>

   (4) Not typeable

</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')"><span class="show"></span></div>
<div class="proofscript" id="proof5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')">
<span class="id" title="keyword">Check</span> (<span class="id" title="keyword">fun</span> <span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span> ⇒ <span class="id" title="variable">pred</span> (<span class="id" title="variable">S</span> <span class="id" title="variable">n</span>)).<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;nat<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>nat&nbsp;*)</span><br/>
</div>
</div >

<br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
What is the type of the following expression?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span>&nbsp;<span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span>&nbsp;⇒&nbsp;<span class="id" title="variable">S</span>&nbsp;(<span class="id" title="variable">pred</span>&nbsp;<span class="id" title="variable">n</span>)&nbsp;=&nbsp;<span class="id" title="variable">n</span>
<div class="paragraph"> </div>

</div>
   (1) <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (2) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="keyword">Prop</span></span>

<div class="paragraph"> </div>

   (3) <span class="inlinecode"><span class="id" title="variable">nat</span>→<span class="id" title="variable">nat</span></span>

<div class="paragraph"> </div>

   (4) Not typeable

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')"><span class="show"></span></div>
<div class="proofscript" id="proof6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')">
<span class="id" title="keyword">Check</span> (<span class="id" title="keyword">fun</span> <span class="id" title="variable">n</span>:<span class="id" title="variable">nat</span> ⇒ <span class="id" title="variable">pred</span> (<span class="id" title="variable">S</span> <span class="id" title="variable">n</span>) = <span class="id" title="variable">n</span>).<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;nat<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>Prop&nbsp;*)</span><br/>
</div>
</div >

<br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
Which of the following is <i>not</i> a proposition?

<div class="paragraph"> </div>

    (1) <span class="inlinecode">3</span> <span class="inlinecode">+</span> <span class="inlinecode">2</span> <span class="inlinecode">=</span> <span class="inlinecode">4</span>

<div class="paragraph"> </div>

    (2) <span class="inlinecode">3</span> <span class="inlinecode">+</span> <span class="inlinecode">2</span> <span class="inlinecode">=</span> <span class="inlinecode">5</span>

<div class="paragraph"> </div>

    (3) <span class="inlinecode">3</span> <span class="inlinecode">+</span> <span class="inlinecode">2</span> <span class="inlinecode">=?</span> <span class="inlinecode">5</span>

<div class="paragraph"> </div>

    (4) <span class="inlinecode">(3+2)</span> <span class="inlinecode">=?</span> <span class="inlinecode">4</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">false</span></span>

<div class="paragraph"> </div>

    (5) <span class="inlinecode"><span style='font-size:120%;'>&forall;</span></span> <span class="inlinecode"><span class="id" title="variable">n</span>,</span> <span class="inlinecode">(3+2)</span> <span class="inlinecode">=?</span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">true</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">5</span>

<div class="paragraph"> </div>

    (6) All of these are propositions

</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')"><span class="show"></span></div>
<div class="proofscript" id="proof7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')">
<span class="id" title="variable">Fail</span> <span class="id" title="keyword">Definition</span> <span class="id" title="variable">bad</span> : <span class="id" title="keyword">Prop</span> := 3 + 2 =? 5.<br/>
<span class="comment">(*&nbsp;The&nbsp;command&nbsp;has&nbsp;indeed&nbsp;failed&nbsp;with&nbsp;message:&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;The&nbsp;term&nbsp;"3&nbsp;+&nbsp;2&nbsp;=?&nbsp;5"&nbsp;has&nbsp;type&nbsp;"bool"&nbsp;while&nbsp;it&nbsp;is&nbsp;expected&nbsp;to&nbsp;have&nbsp;type&nbsp;"Prop".&nbsp;*)</span><br/>
</div>
</div>

<div class="doc">
<a name="lab179"></a><h1 class="section">Logical Connectives</h1>

<div class="paragraph"> </div>

<a name="lab180"></a><h2 class="section">Conjunction</h2>

<div class="paragraph"> </div>

 The <i>conjunction</i>, or <i>logical and</i>, of propositions <span class="inlinecode"><span class="id" title="variable">A</span></span> and <span class="inlinecode"><span class="id" title="variable">B</span></span>
    is written <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="variable">B</span></span>, representing the claim that both <span class="inlinecode"><span class="id" title="variable">A</span></span> and <span class="inlinecode"><span class="id" title="variable">B</span></span>
    are true. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">and_example</span> : 3 + 4 = 7 ∧ 2 * 2 = 4.<br/>
</div>

<div class="doc">
To prove a conjunction, use the <span class="inlinecode"><span class="id" title="tactic">split</span></span> tactic.  It will generate
    two subgoals, one for each part of the statement: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;3&nbsp;+&nbsp;4&nbsp;=&nbsp;7&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;2&nbsp;+&nbsp;2&nbsp;=&nbsp;4&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab181"></a><h3 class="section"> </h3>
 For any propositions <span class="inlinecode"><span class="id" title="variable">A</span></span> and <span class="inlinecode"><span class="id" title="variable">B</span></span>, if we assume that <span class="inlinecode"><span class="id" title="variable">A</span></span> is true
    and we assume that <span class="inlinecode"><span class="id" title="variable">B</span></span> is true, we can conclude that <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="variable">B</span></span> is
    also true. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">and_intro</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span> <span class="id" title="variable">B</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="variable">A</span> → <span class="id" title="variable">B</span> → <span class="id" title="variable">A</span> ∧ <span class="id" title="variable">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">A</span> <span class="id" title="variable">B</span> <span class="id" title="variable">HA</span> <span class="id" title="variable">HB</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="variable">HA</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="variable">HB</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab182"></a><h3 class="section"> </h3>
 Since applying a theorem with hypotheses to some goal has the
    effect of generating as many subgoals as there are hypotheses for
    that theorem, we can apply <span class="inlinecode"><span class="id" title="variable">and_intro</span></span> to achieve the same effect
    as <span class="inlinecode"><span class="id" title="tactic">split</span></span>. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">and_example'</span> : 3 + 4 = 7 ∧ 2 * 2 = 4.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">and_intro</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;3&nbsp;+&nbsp;4&nbsp;=&nbsp;7&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;2&nbsp;+&nbsp;2&nbsp;=&nbsp;4&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <span class="id" title="variable">and_exercise</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> + <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> = 0 ∧ <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab183"></a><h3 class="section"> </h3>
 So much for proving conjunctive statements.  To go in the other
    direction &mdash; i.e., to <i>use</i> a conjunctive hypothesis to help prove
    something else &mdash; we employ the <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> tactic.

<div class="paragraph"> </div>

    If the proof context contains a hypothesis <span class="inlinecode"><span class="id" title="variable">H</span></span> of the form
    <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode">∧</span> <span class="inlinecode"><span class="id" title="variable">B</span></span>, writing <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> <span class="inlinecode"><span class="id" title="variable">H</span></span> <span class="inlinecode"><span class="id" title="keyword">as</span></span> <span class="inlinecode">[<span class="id" title="variable">HA</span></span> <span class="inlinecode"><span class="id" title="variable">HB</span>]</span> will remove <span class="inlinecode"><span class="id" title="variable">H</span></span> from the
    context and add two new hypotheses: <span class="inlinecode"><span class="id" title="variable">HA</span></span>, stating that <span class="inlinecode"><span class="id" title="variable">A</span></span> is
    true, and <span class="inlinecode"><span class="id" title="variable">HB</span></span>, stating that <span class="inlinecode"><span class="id" title="variable">B</span></span> is true.  
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">and_example2</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> = 0 ∧ <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> + <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab184"></a><h3 class="section"> </h3>
 As usual, we can also destruct <span class="inlinecode"><span class="id" title="variable">H</span></span> right when we introduce it,
    instead of introducing and then destructing it: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">and_example2'</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> = 0 ∧ <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> + <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span> <span class="id" title="variable">m</span> [<span class="id" title="variable">Hn</span> <span class="id" title="variable">Hm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab185"></a><h3 class="section"> </h3>
 You may wonder why we bothered packing the two hypotheses <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>
    and <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span> into a single conjunction, since we could have also
    stated the theorem with two separate premises: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">and_example2''</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> = 0 → <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> + <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span> <span class="id" title="variable">m</span> <span class="id" title="variable">Hn</span> <span class="id" title="variable">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hn</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
For the present example, both ways work.  But in other
    situations we may wind up with a conjunctive hypothesis in the
    middle of a proof... 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">and_example3</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> + <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> * <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab186"></a><h3 class="section"> </h3>
 By the way, the infix notation <span class="inlinecode">∧</span> is actually just syntactic
    sugar for <span class="inlinecode"><span class="id" title="variable">and</span></span> <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode"><span class="id" title="variable">B</span></span>.  That is, <span class="inlinecode"><span class="id" title="variable">and</span></span> is a Coq operator that takes
    two propositions as arguments and yields a proposition. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Check</span> <span class="id" title="variable">and</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;and&nbsp;:&nbsp;Prop&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;Prop&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;Prop&nbsp;*)</span><br/>
</div>

<div class="doc">
<a name="lab187"></a><h2 class="section">Disjunction</h2>

<div class="paragraph"> </div>

 Another important connective is the <i>disjunction</i>, or <i>logical or</i>,
    of two propositions: <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode">∨</span> <span class="inlinecode"><span class="id" title="variable">B</span></span> is true when either <span class="inlinecode"><span class="id" title="variable">A</span></span> or <span class="inlinecode"><span class="id" title="variable">B</span></span>
    is.  (This infix notation stands for <span class="inlinecode"><span class="id" title="variable">or</span></span> <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode"><span class="id" title="variable">B</span></span>, where <span class="inlinecode"><span class="id" title="variable">or</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> <span class="inlinecode">→</span>
    <span class="inlinecode"><span class="id" title="keyword">Prop</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>.) 
<div class="paragraph"> </div>

<a name="lab188"></a><h3 class="section"> </h3>
 To use a disjunctive hypothesis in a proof, we proceed by case
    analysis, which, as for <span class="inlinecode"><span class="id" title="variable">nat</span></span> or other data types, can be done
    explicitly with <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> or implicitly with an <span class="inlinecode"><span class="id" title="tactic">intros</span></span> pattern: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">eq_mult_0</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> = 0 ∨ <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> * <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;pattern&nbsp;implicitly&nbsp;does&nbsp;case&nbsp;analysis&nbsp;on<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span> <span class="inlinecode">∨</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span> <span class="id" title="variable">m</span> [<span class="id" title="variable">Hn</span> | <span class="id" title="variable">Hm</span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Here,&nbsp;<span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Here,&nbsp;<span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode">0</span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hm</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="variable">mult_n_O</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
We can see in this example that, when we perform case
    analysis on a disjunction <span class="inlinecode"><span class="id" title="variable">A</span></span> <span class="inlinecode">∨</span> <span class="inlinecode"><span class="id" title="variable">B</span></span>, we must separately satisfy two
    proof obligations, each showing that the conclusion holds under a
    different assumption &mdash; <span class="inlinecode"><span class="id" title="variable">A</span></span> in the first subgoal and <span class="inlinecode"><span class="id" title="variable">B</span></span> in the
    second.  Note that the case analysis pattern <span class="inlinecode">[<span class="id" title="variable">Hn</span></span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="variable">Hm</span>]</span> allows
    us to name the hypotheses that are generated in the subgoals. 
<div class="paragraph"> </div>

<a name="lab189"></a><h3 class="section"> </h3>
 Conversely, to show that a disjunction holds, we need to show that
    one of its sides does. This is done via two tactics, <span class="inlinecode"><span class="id" title="variable">left</span></span> and
    <span class="inlinecode"><span class="id" title="variable">right</span></span>.  As their names imply, the first one requires
    proving the left side of the disjunction, while the second
    requires proving its right side.  Here is a trivial use... 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">or_intro_l</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span> <span class="id" title="variable">B</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="variable">A</span> → <span class="id" title="variable">A</span> ∨ <span class="id" title="variable">B</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">A</span> <span class="id" title="variable">B</span> <span class="id" title="variable">HA</span>.<br/>
&nbsp;&nbsp;<span class="id" title="variable">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">HA</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab190"></a><h3 class="section"> </h3>
 ... and here is a slightly more interesting example requiring both
    <span class="inlinecode"><span class="id" title="variable">left</span></span> and <span class="inlinecode"><span class="id" title="variable">right</span></span>: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">zero_or_succ</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> = 0 ∨ <span class="id" title="variable">n</span> = <span class="id" title="variable">S</span> (<span class="id" title="variable">pred</span> <span class="id" title="variable">n</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/><hr class='doublespaceincode'/>
</div>

<div class="doc">
<a name="lab193"></a><h2 class="section">Falsehood and Negation</h2>
 So far, we have mostly been concerned with proving that certain
    things are <i>true</i> &mdash; addition is commutative, appending lists is
    associative, etc.  Of course, we may also be interested in
    negative results, showing that some given proposition is <i>not</i>
    true. In Coq, such statements are expressed with the negation
    operator <span class="inlinecode">¬</span>. 
<div class="paragraph"> </div>

<a name="lab194"></a><h3 class="section"> </h3>
 To see how negation works, recall the <i>principle of explosion</i>
    from the <a href="Tactics.html"><span class="inlineref">Tactics</span></a> chapter; it asserts that, if we assume a
    contradiction, then any other proposition can be derived.

<div class="paragraph"> </div>

    Following this intuition, we could define <span class="inlinecode">¬</span> <span class="inlinecode"><span class="id" title="variable">P</span></span> ("not <span class="inlinecode"><span class="id" title="variable">P</span></span>") as
    <span class="inlinecode"><span style='font-size:120%;'>&forall;</span></span> <span class="inlinecode"><span class="id" title="variable">Q</span>,</span> <span class="inlinecode"><span class="id" title="variable">P</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">Q</span></span>.

<div class="paragraph"> </div>

    Coq actually makes a slightly different (but equivalent) choice,
    defining <span class="inlinecode">¬</span> <span class="inlinecode"><span class="id" title="variable">P</span></span> as <span class="inlinecode"><span class="id" title="variable">P</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">False</span></span>, where <span class="inlinecode"><span class="id" title="variable">False</span></span> is a specific
    contradictory proposition defined in the standard library. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Module</span> <span class="id" title="variable">MyNot</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <span class="id" title="variable">not</span> (<span class="id" title="variable">P</span>:<span class="id" title="keyword">Prop</span>) := <span class="id" title="variable">P</span> → <span class="id" title="variable">False</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> "¬x" := (<span class="id" title="variable">not</span> <span class="id" title="variable">x</span>) : <span class="id" title="variable">type_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Check</span> <span class="id" title="variable">not</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;Prop&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;Prop&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <span class="id" title="variable">MyNot</span>.<br/>
</div>

<div class="doc">
<a name="lab195"></a><h3 class="section"> </h3>
 Since <span class="inlinecode"><span class="id" title="variable">False</span></span> is a contradictory proposition, the principle of
    explosion also applies to it. If we get <span class="inlinecode"><span class="id" title="variable">False</span></span> into the proof
    context, we can use <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> on it to complete any goal: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">ex_falso_quodlibet</span> : <span style='font-size:120%;'>&forall;</span>(<span class="id" title="variable">P</span>:<span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;<span class="id" title="variable">False</span> → <span class="id" title="variable">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab196"></a><h3 class="section"> </h3>
 Inequality is a frequent enough example of negated statement
    that there is a special notation for it, <span class="inlinecode"><span class="id" title="variable">x</span></span> <span class="inlinecode">≠</span> <span class="inlinecode"><span class="id" title="variable">y</span></span>:

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span>&nbsp;"x ≠ y"&nbsp;:=&nbsp;(~(<span class="id" title="variable">x</span>&nbsp;=&nbsp;<span class="id" title="variable">y</span>)).
<div class="paragraph"> </div>

</div>

<div class="paragraph"> </div>

 We can use <span class="inlinecode"><span class="id" title="variable">not</span></span> to state that <span class="inlinecode">0</span> and <span class="inlinecode">1</span> are different elements
    of <span class="inlinecode"><span class="id" title="variable">nat</span></span>: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">zero_not_one</span> : 0 ≠ 1.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="variable">not</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="variable">contra</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab197"></a><h3 class="section"> </h3>
 It takes a little practice to get used to working with negation in
    Coq.  Even though you can see perfectly well why a statement
    involving negation is true, it can be a little tricky at first to
    get things into the right configuration so that Coq can understand
    it!  Here are proofs of a few familiar facts to get you warmed
    up. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">not_False</span> :<br/>
&nbsp;&nbsp;¬<span class="id" title="variable">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="variable">not</span>. <span class="id" title="tactic">intros</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="variable">H</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab198"></a><h3 class="section"> </h3>

</div>
<div class="code code-space">
<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">contradiction_implies_anything</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;(<span class="id" title="variable">P</span> ∧ ¬<span class="id" title="variable">P</span>) → <span class="id" title="variable">Q</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">double_neg</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">P</span> → ¬¬<span class="id" title="variable">P</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab199"></a><h3 class="section"> </h3>
 Similarly, since inequality involves a negation, it requires a
    little practice to be able to work with it fluently.  Here is one
    useful trick.  If you are trying to prove a goal that is
    nonsensical (e.g., the goal state is <span class="inlinecode"><span class="id" title="variable">false</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">true</span></span>), apply
    <span class="inlinecode"><span class="id" title="variable">ex_falso_quodlibet</span></span> to change the goal to <span class="inlinecode"><span class="id" title="variable">False</span></span>.  This makes it
    easier to use assumptions of the form <span class="inlinecode">¬<span class="id" title="variable">P</span></span> that may be available
    in the context &mdash; in particular, assumptions of the form
    <span class="inlinecode"><span class="id" title="variable">x</span>≠<span class="id" title="variable">y</span></span>. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">not_true_is_false</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">b</span> : <span class="id" title="variable">bool</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">b</span> ≠ <span class="id" title="variable">true</span> → <span class="id" title="variable">b</span> = <span class="id" title="variable">false</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">b</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="variable">b</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="variable">not</span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">ex_falso_quodlibet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;false&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab200"></a><h3 class="section"> </h3>
 Since reasoning with <span class="inlinecode"><span class="id" title="variable">ex_falso_quodlibet</span></span> is quite common, Coq
    provides a built-in tactic, <span class="inlinecode"><span class="id" title="variable">exfalso</span></span>, for applying it. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">not_true_is_false'</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">b</span> : <span class="id" title="variable">bool</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">b</span> ≠ <span class="id" title="variable">true</span> → <span class="id" title="variable">b</span> = <span class="id" title="variable">false</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] <span class="id" title="variable">H</span>. <span class="comment">(*&nbsp;note&nbsp;implicit&nbsp;<span class="inlinecode"><span class="id" title="tactic">destruct</span></span> <span class="inlinecode"><span class="id" title="variable">b</span></span>&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;true&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="variable">not</span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">exfalso</span>. <span class="comment">(*&nbsp;&lt;===&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;b&nbsp;=&nbsp;false&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
To prove the following proposition, which tactics will we need
    besides <span class="inlinecode"><span class="id" title="tactic">intros</span></span> and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">X</span>,&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">a</span>&nbsp;<span class="id" title="variable">b</span>&nbsp;:&nbsp;<span class="id" title="variable">X</span>,&nbsp;(<span class="id" title="variable">a</span>=<span class="id" title="variable">b</span>)&nbsp;∧&nbsp;(<span class="id" title="variable">a</span>≠<span class="id" title="variable">b</span>)&nbsp;→&nbsp;<span class="id" title="variable">False</span>.
<div class="paragraph"> </div>

</div>
    (1) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>, <span class="inlinecode"><span class="id" title="variable">left</span></span> and <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (2) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> and <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (3) only <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>

<div class="paragraph"> </div>

    (4) <span class="inlinecode"><span class="id" title="variable">left</span></span> and/or <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (5) only <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (6) none of the above

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')"><span class="show"></span></div>
<div class="proofscript" id="proof8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')">
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">quiz1</span>: <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">X</span>, <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">a</span> <span class="id" title="variable">b</span> : <span class="id" title="variable">X</span>, (<span class="id" title="variable">a</span>=<span class="id" title="variable">b</span>) ∧ (<span class="id" title="variable">a</span>≠<span class="id" title="variable">b</span>) → <span class="id" title="variable">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">X</span> <span class="id" title="variable">a</span> <span class="id" title="variable">b</span> [<span class="id" title="variable">H<sub>0</sub></span> <span class="id" title="variable">H<sub>1</sub></span>]. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>1</sub></span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H<sub>0</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>0</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
To prove the following proposition, which tactics will we
    need besides <span class="inlinecode"><span class="id" title="tactic">intros</span></span> and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span>&nbsp;<span class="id" title="variable">Q</span>&nbsp;:&nbsp;<span class="id" title="keyword">Prop</span>,&nbsp;&nbsp;<span class="id" title="variable">P</span>&nbsp;∨&nbsp;<span class="id" title="variable">Q</span>&nbsp;→&nbsp;~~(<span class="id" title="variable">P</span>&nbsp;∨&nbsp;<span class="id" title="variable">Q</span>).
<div class="paragraph"> </div>

</div>
    (1) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>, <span class="inlinecode"><span class="id" title="variable">left</span></span> and <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (2) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> and <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (3) only <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>

<div class="paragraph"> </div>

    (4) <span class="inlinecode"><span class="id" title="variable">left</span></span> and/or <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (5) only <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (6) none of the above

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')"><span class="show"></span></div>
<div class="proofscript" id="proof9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')">
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">quiz2</span> :<br/>
<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> : <span class="id" title="keyword">Prop</span>,  <span class="id" title="variable">P</span> ∨ <span class="id" title="variable">Q</span> → ~~(<span class="id" title="variable">P</span> ∨ <span class="id" title="variable">Q</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> <span class="id" title="variable">H</span> <span class="id" title="variable">H<sub>1</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>1</sub></span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
To prove the following proposition, which tactics will we
    need besides <span class="inlinecode"><span class="id" title="tactic">intros</span></span> and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span>&nbsp;<span class="id" title="variable">B</span>:&nbsp;<span class="id" title="keyword">Prop</span>,&nbsp;<span class="id" title="variable">A</span>&nbsp;→&nbsp;(<span class="id" title="variable">A</span>&nbsp;∨&nbsp;¬¬<span class="id" title="variable">B</span>).
<div class="paragraph"> </div>

</div>
    (1) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>, <span class="inlinecode"><span class="id" title="variable">left</span></span> and <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (2) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> and <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (3) only <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>

<div class="paragraph"> </div>

    (4) <span class="inlinecode"><span class="id" title="variable">left</span></span> and/or <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (5) only <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (6) none of the above

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')"><span class="show"></span></div>
<div class="proofscript" id="proof10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')">
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">quiz3</span> :<br/>
<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span> <span class="id" title="variable">B</span>: <span class="id" title="keyword">Prop</span>, <span class="id" title="variable">A</span> → (<span class="id" title="variable">A</span> ∨ ¬¬<span class="id" title="variable">B</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> <span class="id" title="variable">H</span>. <span class="id" title="variable">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
To prove the following proposition, which tactics will we need
    besides <span class="inlinecode"><span class="id" title="tactic">intros</span></span> and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span>&nbsp;<span class="id" title="variable">Q</span>:&nbsp;<span class="id" title="keyword">Prop</span>,&nbsp;&nbsp;<span class="id" title="variable">P</span>&nbsp;∨&nbsp;<span class="id" title="variable">Q</span>&nbsp;→&nbsp;¬¬<span class="id" title="variable">P</span>&nbsp;∨&nbsp;¬¬<span class="id" title="variable">Q</span>.
<div class="paragraph"> </div>

</div>
    (1) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>, <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>, <span class="inlinecode"><span class="id" title="variable">left</span></span> and <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (2) <span class="inlinecode"><span class="id" title="tactic">destruct</span></span> and <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (3) only <span class="inlinecode"><span class="id" title="tactic">destruct</span></span>

<div class="paragraph"> </div>

    (4) <span class="inlinecode"><span class="id" title="variable">left</span></span> and/or <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (5) only <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (6) none of the above

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')"><span class="show"></span></div>
<div class="proofscript" id="proof11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')">
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">quiz4</span> :<br/>
<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> <span class="id" title="variable">Q</span>: <span class="id" title="keyword">Prop</span>,  <span class="id" title="variable">P</span> ∨ <span class="id" title="variable">Q</span> → ¬¬<span class="id" title="variable">P</span> ∨ ¬¬<span class="id" title="variable">Q</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> [<span class="id" title="variable">H<sub>0</sub></span> | <span class="id" title="variable">H<sub>0</sub></span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;left&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">left</span>. <span class="id" title="tactic">intros</span> <span class="id" title="variable">H<sub>1</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>1</sub></span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H<sub>0</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;right&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">right</span>. <span class="id" title="tactic">intros</span> <span class="id" title="variable">H<sub>1</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>1</sub></span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H<sub>0</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H<sub>0</sub></span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div><div class="quiz"><div>
</div>

<div class="doc">
To prove the following proposition, which tactics will we need
    besides <span class="inlinecode"><span class="id" title="tactic">intros</span></span> and <span class="inlinecode"><span class="id" title="tactic">apply</span></span>?

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span>&nbsp;:&nbsp;<span class="id" title="keyword">Prop</span>,&nbsp;1=0&nbsp;→&nbsp;(<span class="id" title="variable">A</span>&nbsp;∨&nbsp;¬<span class="id" title="variable">A</span>).
<div class="paragraph"> </div>

</div>
    (1) <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span>, <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>, <span class="inlinecode"><span class="id" title="variable">left</span></span> and <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (2) <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span> and <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (3) only <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span>

<div class="paragraph"> </div>

    (4) <span class="inlinecode"><span class="id" title="variable">left</span></span> and/or <span class="inlinecode"><span class="id" title="variable">right</span></span>

<div class="paragraph"> </div>

    (5) only <span class="inlinecode"><span class="id" title="tactic">unfold</span></span>

<div class="paragraph"> </div>

    (6) none of the above

<div class="paragraph"> </div>


</div>
<div class="code code-tight">
</div >
<div class="togglescript" id="proofcontrol12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')"><span class="show"></span></div>
<div class="proofscript" id="proof12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')">
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">quiz5</span> :<br/>
<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span> : <span class="id" title="keyword">Prop</span>, 1=0 → (<span class="id" title="variable">A</span> ∨ ¬<span class="id" title="variable">A</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">P</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="variable">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a name="lab201"></a><h2 class="section">Truth</h2>

<div class="paragraph"> </div>

 Besides <span class="inlinecode"><span class="id" title="variable">False</span></span>, Coq's standard library also defines <span class="inlinecode"><span class="id" title="variable">True</span></span>, a
    proposition that is trivially true. To prove it, we use the
    predefined constant <span class="inlinecode"><span class="id" title="variable">I</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="variable">True</span></span>: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">True_is_true</span> : <span class="id" title="variable">True</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">I</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Unlike <span class="inlinecode"><span class="id" title="variable">False</span></span>, which is used extensively, <span class="inlinecode"><span class="id" title="variable">True</span></span> is used quite
    rarely, since it is trivial (and therefore uninteresting) to prove
    as a goal, and it carries no useful information as a hypothesis. 
<div class="paragraph"> </div>

<a name="lab202"></a><h2 class="section">Logical Equivalence</h2>

<div class="paragraph"> </div>

 The handy "if and only if" connective, which asserts that two
    propositions have the same truth value, is just the conjunction of
    two implications. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Module</span> <span class="id" title="variable">MyIff</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <span class="id" title="variable">iff</span> (<span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> : <span class="id" title="keyword">Prop</span>) := (<span class="id" title="variable">P</span> → <span class="id" title="variable">Q</span>) ∧ (<span class="id" title="variable">Q</span> → <span class="id" title="variable">P</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> "P ↔ Q" := (<span class="id" title="variable">iff</span> <span class="id" title="variable">P</span> <span class="id" title="variable">Q</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="variable">level</span> 95, <span class="id" title="variable">no</span> <span class="id" title="variable">associativity</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <span class="id" title="variable">type_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <span class="id" title="variable">MyIff</span>.<br/>
</div>

<div class="doc">
<a name="lab203"></a><h3 class="section"> </h3>

</div>
<div class="code code-space">
<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">iff_sym</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;(<span class="id" title="variable">P</span> ↔ <span class="id" title="variable">Q</span>) → (<span class="id" title="variable">Q</span> ↔ <span class="id" title="variable">P</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">not_true_iff_false</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">b</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">b</span> ≠ <span class="id" title="variable">true</span> ↔ <span class="id" title="variable">b</span> = <span class="id" title="variable">false</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/><hr class='doublespaceincode'/>
</div>

<div class="doc">
<a name="lab205"></a><h2 class="section">Setoids and Logical Equivalence</h2>

<div class="paragraph"> </div>

 Some of Coq's tactics treat <span class="inlinecode"><span class="id" title="variable">iff</span></span> statements specially, avoiding
    the need for some low-level proof-state manipulation.  In
    particular, <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> and <span class="inlinecode"><span class="id" title="tactic">reflexivity</span></span> can be used with <span class="inlinecode"><span class="id" title="variable">iff</span></span>
    statements, not just equalities.  To enable this behavior, we need
    to import a Coq library that supports it: 
</div>
<div class="code code-tight">

<span class="id" title="variable">From</span> <span class="id" title="variable">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="variable">Setoids.Setoid</span>.<br/>
</div>

<div class="doc">
A "setoid" is a set equipped with an equivalence relation,
    such as <span class="inlinecode">=</span> or <span class="inlinecode">↔</span>. 
<div class="paragraph"> </div>

<a name="lab206"></a><h3 class="section"> </h3>

<div class="paragraph"> </div>

 Example: Using <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> with <span class="inlinecode">↔</span>. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">mult_0</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span>, <span class="id" title="variable">n</span> * <span class="id" title="variable">m</span> = 0 ↔ <span class="id" title="variable">n</span> = 0 ∨ <span class="id" title="variable">m</span> = 0.<br/>
<div class="togglescript" id="proofcontrol13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')"><span class="show"></span></div>
<div class="proofscript" id="proof13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="variable">mult_eq_0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="variable">eq_mult_0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">or_assoc</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> <span class="id" title="variable">R</span> : <span class="id" title="keyword">Prop</span>, <span class="id" title="variable">P</span> ∨ (<span class="id" title="variable">Q</span> ∨ <span class="id" title="variable">R</span>) ↔ (<span class="id" title="variable">P</span> ∨ <span class="id" title="variable">Q</span>) ∨ <span class="id" title="variable">R</span>.<br/>
<div class="togglescript" id="proofcontrol14" onclick="toggleDisplay('proof14');toggleDisplay('proofcontrol14')"><span class="show"></span></div>
<div class="proofscript" id="proof14" onclick="toggleDisplay('proof14');toggleDisplay('proofcontrol14')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">P</span> <span class="id" title="variable">Q</span> <span class="id" title="variable">R</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="variable">H</span> | [<span class="id" title="variable">H</span> | <span class="id" title="variable">H</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">left</span>. <span class="id" title="variable">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">left</span>. <span class="id" title="variable">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [[<span class="id" title="variable">H</span> | <span class="id" title="variable">H</span>] | <span class="id" title="variable">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">right</span>. <span class="id" title="variable">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">right</span>. <span class="id" title="variable">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">mult_0_3</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> <span class="id" title="variable">p</span>, <span class="id" title="variable">n</span> * <span class="id" title="variable">m</span> * <span class="id" title="variable">p</span> = 0 ↔ <span class="id" title="variable">n</span> = 0 ∨ <span class="id" title="variable">m</span> = 0 ∨ <span class="id" title="variable">p</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span> <span class="id" title="variable">m</span> <span class="id" title="variable">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="variable">mult_0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">mult_0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">or_assoc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab207"></a><h3 class="section"> </h3>
 Example: using <span class="inlinecode"><span class="id" title="tactic">apply</span></span> with <span class="inlinecode">↔</span>.  The <span class="inlinecode"><span class="id" title="tactic">apply</span></span> tactic can also be used with <span class="inlinecode">↔</span>. When given an
    equivalence as its argument, <span class="inlinecode"><span class="id" title="tactic">apply</span></span> tries to guess which direction of
    the equivalence will be useful.. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">apply_iff_example</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> : <span class="id" title="variable">nat</span>, <span class="id" title="variable">n</span> * <span class="id" title="variable">m</span> = 0 → <span class="id" title="variable">n</span> = 0 ∨ <span class="id" title="variable">m</span> = 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span> <span class="id" title="variable">m</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">mult_0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab208"></a><h2 class="section">Existential Quantification</h2>

<div class="paragraph"> </div>

 To prove a statement of the form <span class="inlinecode"><span style='font-size:120%;'>&exist;</span></span> <span class="inlinecode"><span class="id" title="variable">x</span>,</span> <span class="inlinecode"><span class="id" title="variable">P</span></span>, we must show that
    <span class="inlinecode"><span class="id" title="variable">P</span></span> holds for some specific choice of value for <span class="inlinecode"><span class="id" title="variable">x</span></span>, known as the
    <i>witness</i> of the existential.  This is done in two steps: First,
    we explicitly tell Coq which witness <span class="inlinecode"><span class="id" title="variable">t</span></span> we have in mind by
    invoking the tactic <span class="inlinecode"><span style='font-size:120%;'>&exist;</span></span> <span class="inlinecode"><span class="id" title="variable">t</span></span>.  Then we prove that <span class="inlinecode"><span class="id" title="variable">P</span></span> holds after
    all occurrences of <span class="inlinecode"><span class="id" title="variable">x</span></span> are replaced by <span class="inlinecode"><span class="id" title="variable">t</span></span>. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">four_is_even</span> : <span style='font-size:120%;'>&exist;</span><span class="id" title="variable">n</span> : <span class="id" title="variable">nat</span>, 4 = <span class="id" title="variable">n</span> + <span class="id" title="variable">n</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&exist;</span>2. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab209"></a><h3 class="section"> </h3>
 Conversely, if we have an existential hypothesis <span class="inlinecode"><span style='font-size:120%;'>&exist;</span></span> <span class="inlinecode"><span class="id" title="variable">x</span>,</span> <span class="inlinecode"><span class="id" title="variable">P</span></span> in
    the context, we can destruct it to obtain a witness <span class="inlinecode"><span class="id" title="variable">x</span></span> and a
    hypothesis stating that <span class="inlinecode"><span class="id" title="variable">P</span></span> holds of <span class="inlinecode"><span class="id" title="variable">x</span></span>. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">exists_example_2</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>,<br/>
&nbsp;&nbsp;(<span style='font-size:120%;'>&exist;</span><span class="id" title="variable">m</span>, <span class="id" title="variable">n</span> = 4 + <span class="id" title="variable">m</span>) →<br/>
&nbsp;&nbsp;(<span style='font-size:120%;'>&exist;</span><span class="id" title="variable">o</span>, <span class="id" title="variable">n</span> = 2 + <span class="id" title="variable">o</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab210"></a><h1 class="section">Programming with Propositions</h1>

<div class="paragraph"> </div>

 What does it mean to say that "an element <span class="inlinecode"><span class="id" title="variable">x</span></span> occurs in a
    list <span class="inlinecode"><span class="id" title="variable">l</span></span>"?  
<div class="paragraph"> </div>

<ul class="doclist">
<li> If <span class="inlinecode"><span class="id" title="variable">l</span></span> is the empty list, then <span class="inlinecode"><span class="id" title="variable">x</span></span> cannot occur in it, so the
         property "<span class="inlinecode"><span class="id" title="variable">x</span></span> appears in <span class="inlinecode"><span class="id" title="variable">l</span></span>" is simply false. 
</li>
</ul>

<div class="paragraph"> </div>

<ul class="doclist">
<li> Otherwise, <span class="inlinecode"><span class="id" title="variable">l</span></span> has the form <span class="inlinecode"><span class="id" title="variable">x'</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="variable">l'</span></span>.  In this case, <span class="inlinecode"><span class="id" title="variable">x</span></span>
         occurs in <span class="inlinecode"><span class="id" title="variable">l</span></span> if either it is equal to <span class="inlinecode"><span class="id" title="variable">x'</span></span> or it occurs in
         <span class="inlinecode"><span class="id" title="variable">l'</span></span>. 
</li>
</ul>

<div class="paragraph"> </div>

 We can translate this directly into a straightforward recursive
    function taking an element and a list and returning a proposition: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Fixpoint</span> <span class="id" title="variable">In</span> {<span class="id" title="variable">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="variable">x</span> : <span class="id" title="variable">A</span>) (<span class="id" title="variable">l</span> : <span class="id" title="variable">list</span> <span class="id" title="variable">A</span>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="variable">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [] ⇒ <span class="id" title="variable">False</span><br/>
&nbsp;&nbsp;| <span class="id" title="variable">x'</span> :: <span class="id" title="variable">l'</span> ⇒ <span class="id" title="variable">x'</span> = <span class="id" title="variable">x</span> ∨ <span class="id" title="variable">In</span> <span class="id" title="variable">x</span> <span class="id" title="variable">l'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a name="lab211"></a><h3 class="section"> </h3>
 When <span class="inlinecode"><span class="id" title="variable">In</span></span> is applied to a concrete list, it expands into a
    concrete sequence of nested disjunctions. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">In_example_1</span> : <span class="id" title="variable">In</span> 4 [1; 2; 3; 4; 5].<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <span class="id" title="variable">In_example_2</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>, <span class="id" title="variable">In</span> <span class="id" title="variable">n</span> [2; 4] →<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&exist;</span><span class="id" title="variable">n'</span>, <span class="id" title="variable">n</span> = 2 * <span class="id" title="variable">n'</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab212"></a><h3 class="section"> </h3>

<div class="paragraph"> </div>

 We can also prove more generic, higher-level lemmas about <span class="inlinecode"><span class="id" title="variable">In</span></span>.

<div class="paragraph"> </div>

    Note, in the next, how <span class="inlinecode"><span class="id" title="variable">In</span></span> starts out applied to a variable and
    only gets expanded when we do case analysis on this variable: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">In_map</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span>(<span class="id" title="variable">A</span> <span class="id" title="variable">B</span> : <span class="id" title="keyword">Type</span>) (<span class="id" title="variable">f</span> : <span class="id" title="variable">A</span> → <span class="id" title="variable">B</span>) (<span class="id" title="variable">l</span> : <span class="id" title="variable">list</span> <span class="id" title="variable">A</span>) (<span class="id" title="variable">x</span> : <span class="id" title="variable">A</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">In</span> <span class="id" title="variable">x</span> <span class="id" title="variable">l</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">In</span> (<span class="id" title="variable">f</span> <span class="id" title="variable">x</span>) (<span class="id" title="variable">map</span> <span class="id" title="variable">f</span> <span class="id" title="variable">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">A</span> <span class="id" title="variable">B</span> <span class="id" title="variable">f</span> <span class="id" title="variable">l</span> <span class="id" title="variable">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="variable">l</span> <span class="id" title="keyword">as</span> [|<span class="id" title="variable">x'</span> <span class="id" title="variable">l'</span> <span class="id" title="variable">IHl'</span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;l&nbsp;=&nbsp;nil,&nbsp;contradiction&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;l&nbsp;=&nbsp;x'&nbsp;::&nbsp;l'&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="variable">H</span> | <span class="id" title="variable">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">H</span>. <span class="id" title="variable">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="variable">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">IHl'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab213"></a><h1 class="section">Applying Theorems to Arguments</h1>

<div class="paragraph"> </div>

 Coq also treats <i>proofs</i> as first-class objects! 
<div class="paragraph"> </div>

 We have seen that we can use the <span class="inlinecode"><span class="id" title="keyword">Check</span></span> command to ask Coq to
    print the type of an expression.  We can also use <span class="inlinecode"><span class="id" title="keyword">Check</span></span> to ask
    what theorem a particular identifier refers to. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Check</span> <span class="id" title="variable">plus_comm</span>.<br/>
<span class="comment">(*&nbsp;===&gt;&nbsp;forall&nbsp;n&nbsp;m&nbsp;:&nbsp;nat,&nbsp;n&nbsp;+&nbsp;m&nbsp;=&nbsp;m&nbsp;+&nbsp;n&nbsp;*)</span><br/>
</div>

<div class="doc">
Coq prints the <i>statement</i> of the <span class="inlinecode"><span class="id" title="variable">plus_comm</span></span> theorem in the same
    way that it prints the <i>type</i> of any term that we ask it to
    <span class="inlinecode"><span class="id" title="keyword">Check</span></span>.  Why? 
<div class="paragraph"> </div>

<a name="lab214"></a><h3 class="section"> </h3>
 The reason is that the identifier <span class="inlinecode"><span class="id" title="variable">plus_comm</span></span> actually refers to a
    <i>proof object</i> &mdash; a data structure that represents a logical
    derivation establishing of the truth of the statement <span class="inlinecode"><span style='font-size:120%;'>&forall;</span></span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode"><span class="id" title="variable">m</span></span>
    <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="variable">nat</span>,</span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">n</span></span>.  The type of this object <i>is</i> the statement
    of the theorem that it is a proof of. 
<div class="paragraph"> </div>

 The type of a computational object tells us what we can do
    with that object.

<div class="paragraph"> </div>

<ul class="doclist">
<li> e.g., if we have a term of type <span class="inlinecode"><span class="id" title="variable">nat</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">nat</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">nat</span></span>, we can
         give it two <span class="inlinecode"><span class="id" title="variable">nat</span></span>s as arguments and get a <span class="inlinecode"><span class="id" title="variable">nat</span></span> back.

</li>
</ul>

<div class="paragraph"> </div>

    Similarly, the statement of a theorem tells us what we can use
    that theorem for.

<div class="paragraph"> </div>

<ul class="doclist">
<li> if we have an object of type <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> and we
         provide it an "argument" of type <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span>, we can derive
         <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">m</span></span>. 
</li>
</ul>

<div class="paragraph"> </div>

<a name="lab215"></a><h3 class="section"> </h3>
 Coq actually allows us to <i>apply</i> a theorem as if it were a
    function.  This is often very handy in proof scripts &mdash; e.g.,
    suppose we want too prove the following: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">plus_comm3</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">x</span> <span class="id" title="variable">y</span> <span class="id" title="variable">z</span>, <span class="id" title="variable">x</span> + (<span class="id" title="variable">y</span> + <span class="id" title="variable">z</span>) = (<span class="id" title="variable">z</span> + <span class="id" title="variable">y</span>) + <span class="id" title="variable">x</span>.<br/>
</div>

<div class="doc">
It appears at first sight that we ought to be able to prove this
    by rewriting with <span class="inlinecode"><span class="id" title="variable">plus_comm</span></span> twice to make the two sides match.
    The problem, however, is that the second <span class="inlinecode"><span class="id" title="tactic">rewrite</span></span> will undo the
    effect of the first. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab216"></a><h3 class="section"> </h3>
 Let us show another example of using a theorem or lemma
    like a function. The following theorem says: any list <span class="inlinecode"><span class="id" title="variable">l</span></span>
    containing some element must be nonempty. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">in_not_nil</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">A</span> (<span class="id" title="variable">x</span> : <span class="id" title="variable">A</span>) (<span class="id" title="variable">l</span> : <span class="id" title="variable">list</span> <span class="id" title="variable">A</span>), <span class="id" title="variable">In</span> <span class="id" title="variable">x</span> <span class="id" title="variable">l</span> → <span class="id" title="variable">l</span> ≠ [].<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">A</span> <span class="id" title="variable">x</span> <span class="id" title="variable">l</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="variable">not</span>. <span class="id" title="tactic">intro</span> <span class="id" title="variable">Hl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="variable">l</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="variable">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span> <span class="id" title="variable">Hl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
We can use this lemma to prove the special case where <span class="inlinecode"><span class="id" title="variable">x</span></span>
    is <span class="inlinecode">42</span>. Naively, the tactic <span class="inlinecode"><span class="id" title="tactic">apply</span></span> <span class="inlinecode"><span class="id" title="variable">in_not_nil</span></span> will fail because
    it cannot infer the value of <span class="inlinecode"><span class="id" title="variable">x</span></span>. There are several ways to work
    around that... 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">in_not_nil_42</span> :<br/>
&nbsp;&nbsp;<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">l</span> : <span class="id" title="variable">list</span> <span class="id" title="variable">nat</span>, <span class="id" title="variable">In</span> 42 <span class="id" title="variable">l</span> → <span class="id" title="variable">l</span> ≠ [].<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/><hr class='doublespaceincode'/>
</div>

<div class="doc">
<a name="lab218"></a><h1 class="section">Coq vs. Set Theory</h1>

<div class="paragraph"> </div>

 Coq's logical core, the <i>Calculus of Inductive
    Constructions</i>, is a "metalanguage for mathematics" in the same
    sense as familiar foundations for paper-and-pencil mathematics,
    like Zermelo-Fraenkel Set Theory (ZFC).

<div class="paragraph"> </div>

    Mostly, the differences are not too important.

<div class="paragraph"> </div>

    However, there are cases where translating standard mathematical
    reasoning into Coq can be hard or even impossible unless we enrich
    the core logic with additional axioms... 
<div class="paragraph"> </div>

<a name="lab219"></a><h2 class="section">Functional Extensionality</h2>

</div>
<div class="code code-space">

<br/>
</div>

<div class="doc">
In common mathematical practice, two functions <span class="inlinecode"><span class="id" title="variable">f</span></span> and <span class="inlinecode"><span class="id" title="variable">g</span></span> are
    considered equal if they produce the same outputs:

<div class="paragraph"> </div>

<div class="code code-tight">
&nbsp;&nbsp;&nbsp;&nbsp;(<span style='font-size:120%;'>&forall;</span><span class="id" title="variable">x</span>,&nbsp;<span class="id" title="variable">f</span>&nbsp;<span class="id" title="variable">x</span>&nbsp;=&nbsp;<span class="id" title="variable">g</span>&nbsp;<span class="id" title="variable">x</span>)&nbsp;→&nbsp;<span class="id" title="variable">f</span>&nbsp;=&nbsp;<span class="id" title="variable">g</span>
<div class="paragraph"> </div>

</div>
    This is known as the principle of <i>functional extensionality</i>. 
<div class="paragraph"> </div>

 Functional extensionality is not part of Coq's built-in logic.
    This means that some "reasonable" propositions are not provable. 
<div class="paragraph"> </div>

<a name="lab220"></a><h3 class="section"> </h3>

</div>
<div class="code code-space">
<span class="id" title="keyword">Example</span> <span class="id" title="variable">function_equality_ex<sub>2</sub></span> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> ⇒ <span class="id" title="variable">plus</span> <span class="id" title="variable">x</span> 1) = (<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> ⇒ <span class="id" title="variable">plus</span> 1 <span class="id" title="variable">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Stuck&nbsp;*)</span><br/>
<span class="id" title="keyword">Abort</span>.<br/>
</div>

<div class="doc">
However, we can add functional extensionality to Coq's core using
    the <span class="inlinecode"><span class="id" title="keyword">Axiom</span></span> command. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Axiom</span> <span class="id" title="variable">functional_extensionality</span> : <span style='font-size:120%;'>&forall;</span>{<span class="id" title="variable">X</span> <span class="id" title="variable">Y</span>: <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="variable">f</span> <span class="id" title="variable">g</span> : <span class="id" title="variable">X</span> → <span class="id" title="variable">Y</span>},<br/>
&nbsp;&nbsp;(<span style='font-size:120%;'>&forall;</span>(<span class="id" title="variable">x</span>:<span class="id" title="variable">X</span>), <span class="id" title="variable">f</span> <span class="id" title="variable">x</span> = <span class="id" title="variable">g</span> <span class="id" title="variable">x</span>) → <span class="id" title="variable">f</span> = <span class="id" title="variable">g</span>.<br/>
</div>

<div class="doc">
Using <span class="inlinecode"><span class="id" title="keyword">Axiom</span></span> has the same effect as stating a theorem and
    skipping its proof using <span class="inlinecode"><span class="id" title="variable">Admitted</span></span>, but it alerts the reader that
    this isn't just something we're going to come back and fill in
    later! 
<div class="paragraph"> </div>

<a name="lab221"></a><h3 class="section"> </h3>
 We can now invoke functional extensionality in proofs: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">function_equality_ex<sub>2</sub></span> :<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> ⇒ <span class="id" title="variable">plus</span> <span class="id" title="variable">x</span> 1) = (<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> ⇒ <span class="id" title="variable">plus</span> 1 <span class="id" title="variable">x</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">functional_extensionality</span>. <span class="id" title="tactic">intros</span> <span class="id" title="variable">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">plus_comm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab222"></a><h3 class="section"> </h3>
 Naturally, we must be careful when adding new axioms into Coq's
    logic, as they may render it <i>inconsistent</i> &mdash; that is, they may
    make it possible to prove every proposition, including <span class="inlinecode"><span class="id" title="variable">False</span></span>,
    <span class="inlinecode">2+2=5</span>, etc.!

<div class="paragraph"> </div>

    Unfortunately, there is no simple way of telling whether an axiom
    is safe to add: hard work by highly-trained trained experts is
    generally required to establish the consistency of any particular
    combination of axioms.

<div class="paragraph"> </div>

    Fortunately, it is known that adding functional extensionality, in
    particular, <i>is</i> consistent. 
<div class="paragraph"> </div>

<a name="lab223"></a><h3 class="section"> </h3>
 To check whether a particular proof relies on any additional
    axioms, use the <span class="inlinecode"><span class="id" title="keyword">Print</span></span> <span class="inlinecode"><span class="id" title="variable">Assumptions</span></span> command.  
</div>
<div class="code code-tight">

<span class="id" title="keyword">Print</span> <span class="id" title="variable">Assumptions</span> <span class="id" title="variable">function_equality_ex<sub>2</sub></span>.<br/>
<span class="comment">(*&nbsp;===&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Axioms:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functional_extensionality&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;forall&nbsp;(X&nbsp;Y&nbsp;:&nbsp;Type)&nbsp;(f&nbsp;g&nbsp;:&nbsp;X&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;Y),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(forall&nbsp;x&nbsp;:&nbsp;X,&nbsp;f&nbsp;x&nbsp;=&nbsp;g&nbsp;x)&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;f&nbsp;=&nbsp;g&nbsp;*)</span><br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
Is this provable by <span class="inlinecode"><span class="id" title="tactic">reflexivity</span></span>, i.e., without
    <span class="inlinecode"><span class="id" title="variable">functional_extensionality</span></span>?

<div class="paragraph"> </div>

      <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="variable">xs</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode">1</span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="variable">xs</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="variable">xs</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode">[1]</span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="variable">xs</span>)</span>

<div class="paragraph"> </div>

    (1) Yes

<div class="paragraph"> </div>

    (2) No

<div class="paragraph"> </div>

 
</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol15" onclick="toggleDisplay('proof15');toggleDisplay('proofcontrol15')"><span class="show"></span></div>
<div class="proofscript" id="proof15" onclick="toggleDisplay('proof15');toggleDisplay('proofcontrol15')">
<span class="id" title="keyword">Example</span> <span class="id" title="variable">cons_1_eq_ex</span> : (<span class="id" title="keyword">fun</span> <span class="id" title="variable">xs</span> ⇒ 1 :: <span class="id" title="variable">xs</span>) = (<span class="id" title="keyword">fun</span> <span class="id" title="variable">xs</span> ⇒ [1] ++ <span class="id" title="variable">xs</span>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div >

<br/>
</div><div class="quiz"><div>
</div>

<div class="doc">
Is this provable by <span class="inlinecode"><span class="id" title="tactic">reflexivity</span></span>, i.e., without
    <span class="inlinecode"><span class="id" title="variable">functional_extensionality</span></span>?

<div class="paragraph"> </div>

      <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="variable">x</span></span> <span class="inlinecode"><span class="id" title="variable">y</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="variable">x</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">S</span></span> <span class="inlinecode"><span class="id" title="variable">y</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode">(<span class="id" title="keyword">fun</span></span> <span class="inlinecode"><span class="id" title="variable">x</span></span> <span class="inlinecode"><span class="id" title="variable">y</span></span> <span class="inlinecode">⇒</span> <span class="inlinecode"><span class="id" title="variable">S</span></span> <span class="inlinecode">(<span class="id" title="variable">x</span></span> <span class="inlinecode">+</span> <span class="inlinecode"><span class="id" title="variable">y</span>))</span>

<div class="paragraph"> </div>

    (1) Yes

<div class="paragraph"> </div>

    (2) No

<div class="paragraph"> </div>

 
</div>
<div class="code code-tight">
<div class="togglescript" id="proofcontrol16" onclick="toggleDisplay('proof16');toggleDisplay('proofcontrol16')"><span class="show"></span></div>
<div class="proofscript" id="proof16" onclick="toggleDisplay('proof16');toggleDisplay('proofcontrol16')">
<span class="id" title="keyword">Example</span> <span class="id" title="variable">plus_1_eq_ex</span> : (<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> <span class="id" title="variable">y</span> ⇒ <span class="id" title="variable">S</span> (<span class="id" title="variable">x</span> + <span class="id" title="variable">y</span>)) = (<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> <span class="id" title="variable">y</span> ⇒ <span class="id" title="variable">x</span> + <span class="id" title="variable">S</span> <span class="id" title="variable">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="variable">assert_fails</span> <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="comment">(*&nbsp;Unable&nbsp;to&nbsp;unify&nbsp;"x&nbsp;+&nbsp;S&nbsp;y"&nbsp;with&nbsp;"S&nbsp;(x&nbsp;+&nbsp;y)".&nbsp;*)</span><br/>
<span class="id" title="keyword">Abort</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <span class="id" title="variable">plus_1_eq_ex</span> : (<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> <span class="id" title="variable">y</span> ⇒ <span class="id" title="variable">S</span> (<span class="id" title="variable">x</span> + <span class="id" title="variable">y</span>)) = (<span class="id" title="keyword">fun</span> <span class="id" title="variable">x</span> <span class="id" title="variable">y</span> ⇒ <span class="id" title="variable">x</span> + <span class="id" title="variable">S</span> <span class="id" title="variable">y</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">functional_extensionality</span>. <span class="id" title="tactic">intro</span> <span class="id" title="variable">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">functional_extensionality</span>. <span class="id" title="tactic">intro</span> <span class="id" title="variable">y</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Search&nbsp;(_&nbsp;+&nbsp;S&nbsp;_)&nbsp;eq.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="variable">plus_n_Sm</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div >

<br/>
</div>

<div class="doc">
<a name="lab224"></a><h2 class="section">Propositions and Booleans</h2>

<div class="paragraph"> </div>

 We've seen two different ways of expressing logical claims in Coq:
    with <i>booleans</i> (of type <span class="inlinecode"><span class="id" title="variable">bool</span></span>), and with <i>propositions</i> (of type
    <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>).

<div class="paragraph"> </div>

    For instance, to claim that a number <span class="inlinecode"><span class="id" title="variable">n</span></span> is even, we can say
    either... 
<div class="paragraph"> </div>

 ... that <span class="inlinecode"><span class="id" title="variable">evenb</span></span> <span class="inlinecode"><span class="id" title="variable">n</span></span> evaluates to <span class="inlinecode"><span class="id" title="variable">true</span></span>... 
</div>
<div class="code code-tight">
<span class="id" title="keyword">Example</span> <span class="id" title="variable">even_42_bool</span> : <span class="id" title="variable">evenb</span> 42 = <span class="id" title="variable">true</span>.<br/>
<div class="togglescript" id="proofcontrol17" onclick="toggleDisplay('proof17');toggleDisplay('proofcontrol17')"><span class="show"></span></div>
<div class="proofscript" id="proof17" onclick="toggleDisplay('proof17');toggleDisplay('proofcontrol17')">
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
... or that there exists some <span class="inlinecode"><span class="id" title="variable">k</span></span> such that <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">double</span></span> <span class="inlinecode"><span class="id" title="variable">k</span></span>. 
</div>
<div class="code code-tight">
<span class="id" title="keyword">Example</span> <span class="id" title="variable">even_42_prop</span> : <span style='font-size:120%;'>&exist;</span><span class="id" title="variable">k</span>, 42 = <span class="id" title="variable">double</span> <span class="id" title="variable">k</span>.<br/>
<div class="togglescript" id="proofcontrol18" onclick="toggleDisplay('proof18');toggleDisplay('proofcontrol18')"><span class="show"></span></div>
<div class="proofscript" id="proof18" onclick="toggleDisplay('proof18');toggleDisplay('proofcontrol18')">
<span class="id" title="keyword">Proof</span>. <span style='font-size:120%;'>&exist;</span>21. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
Of course, it would be pretty strange if these two
    characterizations of evenness did not describe the same set of
    natural numbers!  Fortunately, we can prove that they do... 
</div>

<div class="doc">
<a name="lab225"></a><h3 class="section"> </h3>

</div>
<div class="code code-space">
<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">even_bool_prop</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">evenb</span> <span class="id" title="variable">n</span> = <span class="id" title="variable">true</span> ↔ <span style='font-size:120%;'>&exist;</span><span class="id" title="variable">k</span>, <span class="id" title="variable">n</span> = <span class="id" title="variable">double</span> <span class="id" title="variable">k</span>.<br/>
<div class="togglescript" id="proofcontrol19" onclick="toggleDisplay('proof19');toggleDisplay('proofcontrol19')"><span class="show"></span></div>
<div class="proofscript" id="proof19" onclick="toggleDisplay('proof19');toggleDisplay('proofcontrol19')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="variable">evenb_double_conv</span> <span class="id" title="variable">n</span>) <span class="id" title="keyword">as</span> [<span class="id" title="variable">k</span> <span class="id" title="variable">Hk</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hk</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">H</span>. <span style='font-size:120%;'>&exist;</span><span class="id" title="variable">k</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="variable">k</span> <span class="id" title="variable">Hk</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">Hk</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">evenb_double</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
In view of this theorem, we say that the boolean computation
    <span class="inlinecode"><span class="id" title="variable">evenb</span></span> <span class="inlinecode"><span class="id" title="variable">n</span></span> is reflected in the truth of the proposition <span class="inlinecode"><span style='font-size:120%;'>&exist;</span></span> <span class="inlinecode"><span class="id" title="variable">k</span>,</span>
    <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">double</span></span> <span class="inlinecode"><span class="id" title="variable">k</span></span>. 
<div class="paragraph"> </div>

<a name="lab226"></a><h3 class="section"> </h3>
 Similarly, to state that two numbers <span class="inlinecode"><span class="id" title="variable">n</span></span> and <span class="inlinecode"><span class="id" title="variable">m</span></span> are equal, we can
    say either

<div class="paragraph"> </div>

<ul class="doclist">
<li> (1) that <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=?</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> returns <span class="inlinecode"><span class="id" title="variable">true</span></span>, or

</li>
<li> (2) that <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span>.

</li>
</ul>
    Again, these two notions are equivalent. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Theorem</span> <span class="id" title="variable">eqb_eq</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n<sub>1</sub></span> <span class="id" title="variable">n<sub>2</sub></span> : <span class="id" title="variable">nat</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">n<sub>1</sub></span> =? <span class="id" title="variable">n<sub>2</sub></span> = <span class="id" title="variable">true</span> ↔ <span class="id" title="variable">n<sub>1</sub></span> = <span class="id" title="variable">n<sub>2</sub></span>.<br/>
<div class="togglescript" id="proofcontrol20" onclick="toggleDisplay('proof20');toggleDisplay('proofcontrol20')"><span class="show"></span></div>
<div class="proofscript" id="proof20" onclick="toggleDisplay('proof20');toggleDisplay('proofcontrol20')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="variable">n<sub>1</sub></span> <span class="id" title="variable">n<sub>2</sub></span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="variable">eqb_true</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="variable">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="variable">eqb_refl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a name="lab229"></a><h3 class="section"> </h3>
 An important side benefit of stating facts using
    booleans is enabling some proof automation through computation
    with Coq terms, a technique known as <i>proof by
    reflection</i>.  Consider the following statement: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">even_1000</span> : <span style='font-size:120%;'>&exist;</span><span class="id" title="variable">k</span>, 1000 = <span class="id" title="variable">double</span> <span class="id" title="variable">k</span>.<br/>
</div>

<div class="doc">
The most direct proof of this fact is to give the value of <span class="inlinecode"><span class="id" title="variable">k</span></span>
    explicitly. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Proof</span>. <span style='font-size:120%;'>&exist;</span>500. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
On the other hand, the proof of the corresponding boolean
    statement is even simpler: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">even_1000'</span> : <span class="id" title="variable">evenb</span> 1000 = <span class="id" title="variable">true</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
What is interesting is that, since the two notions are equivalent,
    we can use the boolean formulation to prove the other one without
    mentioning the value 500 explicitly: 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">even_1000''</span> : <span style='font-size:120%;'>&exist;</span><span class="id" title="variable">k</span>, 1000 = <span class="id" title="variable">double</span> <span class="id" title="variable">k</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <span class="id" title="variable">even_bool_prop</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a name="lab230"></a><h3 class="section"> </h3>

<div class="paragraph"> </div>

 Another notable difference is that the negation of a "boolean
    fact" is straightforward to state and prove: simply flip the
    expected boolean result. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">not_even_1001</span> : <span class="id" title="variable">evenb</span> 1001 = <span class="id" title="variable">false</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
In contrast, propositional negation may be more difficult
    to work with. 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Example</span> <span class="id" title="variable">not_even_1001'</span> : ~(<span style='font-size:120%;'>&exist;</span><span class="id" title="variable">k</span>, 1001 = <span class="id" title="variable">double</span> <span class="id" title="variable">k</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
<a name="lab231"></a><h3 class="section"> </h3>

<div class="paragraph"> </div>

 Equality provides a complementary example: knowing that
    <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=?</span> <span class="inlinecode"><span class="id" title="variable">m</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">true</span></span> is generally of little direct help in the middle
    of a proof involving <span class="inlinecode"><span class="id" title="variable">n</span></span> and <span class="inlinecode"><span class="id" title="variable">m</span></span>; however, if we convert the
    statement to the equivalent form <span class="inlinecode"><span class="id" title="variable">n</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="variable">m</span></span>, we can rewrite with it.
 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Lemma</span> <span class="id" title="variable">plus_eqb_example</span> : <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">n</span> <span class="id" title="variable">m</span> <span class="id" title="variable">p</span> : <span class="id" title="variable">nat</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="variable">n</span> =? <span class="id" title="variable">m</span> = <span class="id" title="variable">true</span> → <span class="id" title="variable">n</span> + <span class="id" title="variable">p</span> =? <span class="id" title="variable">m</span> + <span class="id" title="variable">p</span> = <span class="id" title="variable">true</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;WORK&nbsp;IN&nbsp;CLASS&nbsp;*)</span> <span class="id" title="variable">Admitted</span>.<br/>
</div>

<div class="doc">
We won't cover reflection in much detail, but it serves as a good
    example showing the complementary strengths of booleans and
    general propositions. 
<div class="paragraph"> </div>

<a name="lab232"></a><h2 class="section">Classical vs. Constructive Logic</h2>

<div class="paragraph"> </div>

 The following reasoning principle is <i>not</i> derivable in
    Coq (though, again, it can consistently be added): 
</div>
<div class="code code-tight">

<span class="id" title="keyword">Definition</span> <span class="id" title="variable">excluded_middle</span> := <span style='font-size:120%;'>&forall;</span><span class="id" title="variable">P</span> : <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;<span class="id" title="variable">P</span> ∨ ¬<span class="id" title="variable">P</span>.<br/>
</div>

<div class="doc">
Logics like Coq's, which do not assume the excluded middle, are
    referred to as <i>constructive logics</i>.

<div class="paragraph"> </div>

    More conventional logical systems such as ZFC, in which the
    excluded middle does hold for arbitrary propositions, are referred
    to as <i>classical</i>. 
</div>
</div>



</div>

</body>
</html>